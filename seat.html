<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸª‘ ìë¦¬ ë°°ì¹˜ & ì—­í•  ë¶„ë‹´</title>
    <link rel="stylesheet" href="style.css">
    <script src="script.js" defer></script>
    <style>
        /* ìë¦¬ ë°°ì¹˜ ì „ìš© ìŠ¤íƒ€ì¼ */
        body { background-color: #f9f9f9; }
        .seat-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        /* ì—­í•  ê°€ì´ë“œ (ë ˆì „ë“œ) */
        .role-guide {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 30px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        .role-item { display: flex; align-items: center; gap: 8px; font-size: 0.9em; font-weight: bold; }
        .dot { width: 15px; height: 15px; border-radius: 50%; display: inline-block; }
        
        /* ìƒ‰ìƒ ì •ì˜ */
        .bg-black { background-color: #333; box-shadow: 0 0 5px #333; } /* ìŠ¤íƒœí”„ */
        .bg-blue { background-color: #007bff; box-shadow: 0 0 5px #007bff; } /* ë¦¬í•„ */
        .bg-green { background-color: #28a745; box-shadow: 0 0 5px #28a745; } /* ì¸ì¦ìƒ· */
        .bg-orange { background-color: #fd7e14; box-shadow: 0 0 5px #fd7e14; } /* ë’·ì •ë¦¬ */
        .bg-red { background-color: #dc3545; box-shadow: 0 0 5px #dc3545; } /* ì¾Œì /ì˜¨ë„ */

        /* í…Œì´ë¸” ë°°ì¹˜ êµ¬ì—­ */
        .tables-area {
            display: grid;
            grid-template-columns: repeat(2, 1fr); /* 2ì—´ ë°°ì¹˜ */
            gap: 40px;
            margin-bottom: 30px;
        }
        @media (max-width: 768px) {
            .tables-area { grid-template-columns: 1fr; } /* ëª¨ë°”ì¼ì€ 1ì—´ */
        }

        .table-group {
            background: white;
            border: 3px solid #ddd;
            border-radius: 20px;
            padding: 20px;
            position: relative;
            min-height: 200px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .table-center {
            position: absolute;
            background: #f0f0f0;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            color: #555;
            border: 2px solid #ccc;
            z-index: 1;
        }

        /* ì‚¬ëŒ(ì˜ì) ìŠ¤íƒ€ì¼ */
        .person {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 0.8em;
            font-weight: bold;
            position: absolute;
            transition: all 0.8s ease-in-out; /* ìë¦¬ ì´ë™ ì• ë‹ˆë©”ì´ì…˜ */
            border: 2px solid white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
            z-index: 10;
        }
        /* ë‚˜ì¨© ê°•ì¡° */
        .person.host { border: 3px solid #FFD700; transform: scale(1.1); z-index: 20; }

        /* ë§¤ë‰´ì–¼ ë°•ìŠ¤ */
        .manual-box {
            background-color: #fff3cd;
            border: 2px solid #ffecb5;
            padding: 15px;
            border-radius: 10px;
            text-align: left;
            margin-bottom: 20px;
            font-size: 0.9em;
            color: #856404;
        }
        .manual-box h3 { margin-top: 0; border-bottom: 1px solid #e6dbb9; padding-bottom: 5px; }
        .manual-box ul { padding-left: 20px; margin-bottom: 0; }

    </style>
</head>
<body>

    <div class="seat-container">
        <h1>ğŸª‘ ìë¦¬ ë°°ì¹˜ & ì—­í•  ë¶„ë‹´</h1>
        
        <div class="role-guide">
            <div class="role-item"><span class="dot bg-black"></span>âš« ìŠ¤íƒœí”„ (ì§„í–‰)</div>
            <div class="role-item"><span class="dot bg-blue"></span>ğŸ”µ ë¦¬í•„ìš”ì •</div>
            <div class="role-item"><span class="dot bg-green"></span>ğŸŸ¢ ì¸ì¦ìƒ·</div>
            <div class="role-item"><span class="dot bg-orange"></span>ğŸŸ  ë’·ì •ë¦¬</div>
            <div class="role-item"><span class="dot bg-red"></span>ğŸ”´ ì¾Œì ë‹´ë‹¹</div>
        </div>

        <div class="manual-box">
            <h3>ğŸ“‹ [ê³µì§€] ìŠ¤íƒœí”„ ìš´ì˜ ë§¤ë‰´ì–¼</h3>
            <ul>
                <li><strong>í•µì‹¬ ì„ë¬´:</strong> ì¡°ì›ì´ ë¶€ì¡±í•´ ìƒ‰ê¹” ì—­í• ì´ ë‚¨ìœ¼ë©´, <strong>ìŠ¤íƒœí”„ë‹˜ì´ í•´ë‹¹ ì—­í• ì„ ìˆ˜í–‰</strong>í•´ì£¼ì„¸ìš”. (ì˜ˆ: ì£¼í™©ìƒ‰ ê³µì„ â¡ ìŠ¤íƒœí”„ê°€ ë’·ì •ë¦¬)</li>
                <li><strong>2ë¶€ ì´ë™ ê·œì¹™:</strong> ë³¸ì¸ ì—­í• (ìƒ‰ê¹”) ìœ ì§€! <strong>ë‚˜ì¨©ì€ 1ì¡° ê³ ì •!</strong></li>
                <li><strong>ìŠ¤íƒœí”„ ì´ë™:</strong> 1ì¡°ë¥¼ ì œì™¸í•œ 2, 3, 4ì¡°ì˜ ë¹ˆìë¦¬ë¥¼ ì±„ì›Œì£¼ì„¸ìš”. (ì „ì²´ ê· í˜• ë§ì¶”ê¸°)</li>
            </ul>
        </div>

        <div class="tables-area">
            <div class="table-group" id="table-1">
                <div class="table-center">1ì¡° (5ëª…)</div>
            </div>
            <div class="table-group" id="table-2">
                <div class="table-center">2ì¡° (4ëª…)</div>
            </div>
            <div class="table-group" id="table-3">
                <div class="table-center">3ì¡° (4ëª…)</div>
            </div>
            <div class="table-group" id="table-4">
                <div class="table-center">4ì¡° (4ëª…)</div>
            </div>
        </div>

        <div class="btn-group">
            <button onclick="setPhase1()" style="background: linear-gradient(145deg, #007bff, #0056b3);">1ë¶€ ë°°ì¹˜ (ì´ˆê¸°)</button>
            <button onclick="shuffleSeats()" style="background: linear-gradient(145deg, #28a745, #1e7e34);">ğŸ”„ 2ë¶€ ìë¦¬ ì„ê¸°!</button>
            <a href="index.html" class="home-btn" style="background: linear-gradient(145deg, #a00000, #800000); color: white;">ğŸ  ë©”ì¸ìœ¼ë¡œ</a>
        </div>
    </div>

    <script>
        // ì‚¬ëŒ ë°ì´í„° (ì´ 17ëª… ì„¤ì •: ë‚˜ì¨©1 + ìŠ¤íƒœí”„3 + ì°¸ê°€ì13)
        // ìƒ‰ìƒ: black(ìŠ¤íƒœí”„), blue, green, orange, red, gray(ì¼ë°˜)
        let people = [
            { id: 1, name: "ë‚˜ì¨©", role: "host", color: "bg-black" }, // ë‚˜ì¨© (í˜¸ìŠ¤íŠ¸)
            
            // ìŠ¤íƒœí”„ 3ëª…
            { id: 2, name: "ìŠ¤í…1", role: "staff", color: "bg-black" },
            { id: 3, name: "ìŠ¤í…2", role: "staff", color: "bg-black" },
            { id: 4, name: "ìŠ¤í…3", role: "staff", color: "bg-black" },

            // ì°¸ê°€ìë“¤ (ì—­í•  ë°°ë¶„ ì˜ˆì‹œ)
            { id: 5, name: "ì°¸ê°€1", role: "user", color: "bg-blue" },
            { id: 6, name: "ì°¸ê°€2", role: "user", color: "bg-green" },
            { id: 7, name: "ì°¸ê°€3", role: "user", color: "bg-orange" },
            { id: 8, name: "ì°¸ê°€4", role: "user", color: "bg-red" },
            
            { id: 9, name: "ì°¸ê°€5", role: "user", color: "bg-blue" },
            { id: 10, name: "ì°¸ê°€6", role: "user", color: "bg-green" },
            { id: 11, name: "ì°¸ê°€7", role: "user", color: "bg-orange" },
            { id: 12, name: "ì°¸ê°€8", role: "user", color: "bg-red" },
            
            { id: 13, name: "ì°¸ê°€9", role: "user", color: "bg-blue" },
            { id: 14, name: "ì°¸ê°€10", role: "user", color: "bg-green" },
            { id: 15, name: "ì°¸ê°€11", role: "user", color: "bg-orange" },
            { id: 16, name: "ì°¸ê°€12", role: "user", color: "bg-red" },
            { id: 17, name: "ì°¸ê°€13", role: "user", color: "bg-blue" } 
        ];

        // 1ë¶€ ì´ˆê¸° ë°°ì¹˜ ì„¤ì • (ë§¤ë‰´ì–¼ ì¤€ìˆ˜)
        function setPhase1() {
            // ëª¨ë“  ì‚¬ëŒ ì´ˆê¸°í™”
            clearTables();

            // 1ì¡°: ë‚˜ì¨© + ì°¸ê°€ì 4ëª…
            assignSeat(people[0], 1); // ë‚˜ì¨©
            assignSeat(people[4], 1);
            assignSeat(people[5], 1);
            assignSeat(people[6], 1);
            assignSeat(people[7], 1);

            // 2ì¡°: ìŠ¤í…1 + ì°¸ê°€ì 3ëª…
            assignSeat(people[1], 2); // ìŠ¤í…1
            assignSeat(people[8], 2);
            assignSeat(people[9], 2);
            assignSeat(people[10], 2);

            // 3ì¡°: ìŠ¤í…2 + ì°¸ê°€ì 3ëª…
            assignSeat(people[2], 3); // ìŠ¤í…2
            assignSeat(people[11], 3);
            assignSeat(people[12], 3);
            assignSeat(people[13], 3);

            // 4ì¡°: ì°¸ê°€ì 4ëª… (ìŠ¤í…X) -> ë‚¨ì€ ìŠ¤í…3ì€ ì–´ë””? (ì¼ë‹¨ ë¡œì§ìƒ 4ì¡°ë‚˜ ì˜ˆë¹„ë¡œ ë‘ , ì—¬ê¸°ì„  4ì¡°ì— ìŠ¤í…3 ë°°ì¹˜í•˜ê±°ë‚˜ ìœ ë™ì ìœ¼ë¡œ)
            // *ë§¤ë‰´ì–¼ìƒ 4ì¡°ëŠ” ìŠ¤í… ì—†ë‹¤ê³  í–ˆìœ¼ë¯€ë¡œ, ìŠ¤í…3ì€ 2ì¡°ë‚˜ 3ì¡°ì— 2ëª… ë“¤ì–´ê°€ê±°ë‚˜ í•´ì•¼ í•¨.
            // ì¼ë‹¨ í™”ë©´ êµ¬ì„±ì„ ìœ„í•´ ìŠ¤í…3ì€ 2ì¡°ì— ì¶”ê°€ ë°°ì¹˜í•˜ê±°ë‚˜ ëŒ€ê¸°ë¡œ ë‘¡ë‹ˆë‹¤. (ì—¬ê¸°ì„  2ì¡°ë¡œ ë³´ëƒ„)
            assignSeat(people[3], 2); // ìŠ¤í…3 (2ì¡° ì§€ì›)
            
            // 4ì¡° ë‚˜ë¨¸ì§€
            assignSeat(people[14], 4);
            assignSeat(people[15], 4);
            assignSeat(people[16], 4);
            // í•œ ëª… ë¶€ì¡±í•˜ë©´ ë¹„ì›Œë‘ 
        }

        // 2ë¶€ ìë¦¬ ì„ê¸° (ë¡œì§ êµ¬í˜„)
        function shuffleSeats() {
            clearTables();

            // 1. ë‚˜ì¨©ì€ 1ì¡° ê³ ì •
            assignSeat(people[0], 1);

            // 2. ë‚˜ë¨¸ì§€ ì‚¬ëŒë“¤ ë¶„ë¥˜
            let staffs = people.filter(p => p.role === 'staff');
            let users = people.filter(p => p.role === 'user');

            // ëœë¤ ì„ê¸° í•¨ìˆ˜
            users.sort(() => Math.random() - 0.5);
            staffs.sort(() => Math.random() - 0.5);

            // 3. ìŠ¤íƒœí”„ ë°°ì¹˜ (2, 3, 4ì¡°ì— ë¶„ì‚° - 1ì¡° ì œì™¸)
            // ìŠ¤í… 3ëª…ì´ë‹ˆê¹Œ 2, 3, 4ì¡°ì— í•œ ëª…ì”© ë„£ìŒ
            assignSeat(staffs[0], 2);
            assignSeat(staffs[1], 3);
            assignSeat(staffs[2], 4);

            // 4. ë‚˜ë¨¸ì§€ ìœ ì €ë“¤ ë¹ˆìë¦¬ì— ì‘¤ì…”ë„£ê¸°
            // í˜„ì¬ ìë¦¬ í˜„í™©: 1ì¡°(1ëª…), 2ì¡°(1ëª…), 3ì¡°(1ëª…), 4ì¡°(1ëª…)
            // ë‚¨ì€ ìë¦¬: 1ì¡°(4), 2ì¡°(3), 3ì¡°(3), 4ì¡°(3)
            
            let currentTable = 1;
            users.forEach(user => {
                // ê° í…Œì´ë¸” ì •ì› ì²´í¬ (1ì¡°:5ëª…, ë‚˜ë¨¸ì§€:4ëª…)
                let max = currentTable === 1 ? 5 : 4;
                let count = document.getElementById(`table-${currentTable}`).childElementCount - 1; // ì„¼í„° div ì œì™¸

                while (count >= max) {
                    currentTable++;
                    if (currentTable > 4) currentTable = 1; // ë‹¤ì‹œ 1ì¡°ë¡œ (ìˆœí™˜)
                    max = currentTable === 1 ? 5 : 4;
                    count = document.getElementById(`table-${currentTable}`).childElementCount - 1;
                }
                assignSeat(user, currentTable);
                currentTable++; // ë‹¤ìŒ ì‚¬ëŒì„ ìœ„í•´ í…Œì´ë¸” ë„˜ê¸°ê¸° (ë¶„ì‚° íš¨ê³¼)
                if (currentTable > 4) currentTable = 1;
            });
        }

        function clearTables() {
            document.querySelectorAll('.table-group').forEach(el => {
                // table-center ë§Œ ë‚¨ê¸°ê³  ë‹¤ ì§€ìš°ê¸°
                const center = el.querySelector('.table-center');
                el.innerHTML = '';
                el.appendChild(center);
            });
        }

        function assignSeat(person, tableNum) {
            const table = document.getElementById(`table-${tableNum}`);
            const el = document.createElement('div');
            el.className = `person ${person.color}`;
            if (person.role === 'host') el.classList.add('host');
            el.innerText = person.name;

            // ì›í˜• ë°°ì¹˜ë¥¼ ìœ„í•œ ìœ„ì¹˜ ê³„ì‚°
            const totalSeats = tableNum === 1 ? 5 : 4;
            // í˜„ì¬ í…Œì´ë¸”ì— ìˆëŠ” ì‚¬ëŒ ìˆ˜ (ì„¼í„° ì œì™¸)
            const currentCount = table.querySelectorAll('.person').length;
            
            // ê°ë„ ê³„ì‚° (360ë„ / ì •ì›)
            const angle = (360 / totalSeats) * currentCount - 90; // -90ì€ 12ì‹œ ë°©í–¥ë¶€í„° ì‹œì‘
            const radius = 70; // ë°˜ì§€ë¦„

            // ìœ„ì¹˜ ì¡ê¸° (CSS ë³€í™˜)
            // ì—¬ê¸°ì„œëŠ” ê°„ë‹¨í•˜ê²Œ flexë¡œ ì²˜ë¦¬í•˜ì§€ ì•Šê³  absoluteë¡œ ìœ„ì¹˜ ì¡ìŒ
            // í•˜ì§€ë§Œ ë°˜ì‘í˜•ì„ ìœ„í•´ ê°„ë‹¨íˆ flex ì•ˆì—ì„œ marginìœ¼ë¡œ ì²˜ë¦¬í•˜ê±°ë‚˜
            // ìœ„ ì½”ë“œì²˜ëŸ¼ grid ì•ˆì—ì„œ ìœ„ì¹˜ë¥¼ ì¡ëŠ”ê²Œ ì¢‹ìŒ.
            
            // ì‹œê°ì  íš¨ê³¼ë¥¼ ìœ„í•´ ìœ„ì¹˜ ê°•ì œ ì§€ì •
            const x = Math.cos(angle * Math.PI / 180) * radius;
            const y = Math.sin(angle * Math.PI / 180) * radius;
            
            el.style.transform = `translate(${x}px, ${y}px)`;

            table.appendChild(el);
        }

        // ì´ˆê¸° ì‹¤í–‰
        setPhase1();

    </script>
</body>
</html>
