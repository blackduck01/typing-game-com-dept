<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸ† ê°•ì˜ í‰ê°€ íˆ¬í‘œì†Œ ğŸ†</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;500;700;900&display=swap" rel="stylesheet">

    <style>
        /* ğŸ¨ ë°°ê²½: ì„¸ë ¨ëœ ë”¥ ë‹¤í¬ ë„¤ì´ë¹„ (ëˆˆ í”¼ë¡œ ê°ì†Œ) */
        body {
            background: linear-gradient(135deg, #141e30, #243b55);
            margin: 0; padding: 20px 10px; /* ëª¨ë°”ì¼ ì¢Œìš° ì—¬ë°± ì¤„ì„ */
            color: #fff;
            font-family: 'Noto Sans KR', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            -webkit-tap-highlight-color: transparent; /* ëª¨ë°”ì¼ í„°ì¹˜ í•˜ì´ë¼ì´íŠ¸ ì œê±° */
        }

        /* ëˆˆì†¡ì´ íš¨ê³¼ */
        .snowflake { position: fixed; top: -10px; color: rgba(255, 255, 255, 0.3); font-size: 1em; z-index: 0; pointer-events: none; animation: fall linear infinite; }
        @keyframes fall { to { transform: translateY(110vh); } }

        /* ë©”ì¸ ì»¨í…Œì´ë„ˆ */
        .container {
            max-width: 600px; /* ëª¨ë°”ì¼ì— ìµœì í™”ëœ í­ */
            margin: 0 auto;
            text-align: center;
            position: relative;
            z-index: 10;
            padding-bottom: 60px;
        }

        /* íƒ€ì´í‹€ */
        h1 {
            font-size: 1.8rem;
            color: #FFD700;
            margin: 20px 0 5px 0;
            font-weight: 700;
            text-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        .subtitle { color: #ccc; font-size: 0.9rem; margin-bottom: 30px; font-weight: 300; }

        /* ğŸ“± ëª¨ë°”ì¼ ìµœì í™” ê·¸ë¦¬ë“œ: í°ì—ì„œëŠ” 1ì—´ë¡œ ì­‰ ë‚˜ì—´ */
        .review-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        /* ğŸ ì¹´ë“œ ë””ìì¸ (ê³ ê¸‰ì§„ ì•± ìŠ¤íƒ€ì¼) */
        .review-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 16px;
            padding: 20px;
            text-align: left;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: transform 0.2s;
        }
        
        /* ì™„ë£Œëœ ì¹´ë“œ í‘œì‹œ */
        .review-card.voted {
            border: 1px solid #2ecc71;
            background: rgba(46, 204, 113, 0.1);
        }

        /* ê³¼ëª©ëª… & êµìˆ˜ë‹˜ */
        .card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 10px; }
        .subject-name { font-size: 1.2rem; font-weight: 700; color: #fff; line-height: 1.3; }
        .prof-name { font-size: 0.85rem; color: #aaa; margin-top: 4px; font-weight: 300; }
        
        /* íˆ¬í‘œ ì™„ë£Œ ë±ƒì§€ */
        .badge { 
            font-size: 0.75rem; background: #2ecc71; color: #fff; 
            padding: 4px 8px; border-radius: 12px; font-weight: bold; 
            display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
        }
        .voted .badge { display: inline-block; }

        /* â­ ë³„ì  (í„°ì¹˜í•˜ê¸° ì‰½ê²Œ í¼ì§í•˜ê²Œ) */
        .star-rating {
            display: flex;
            flex-direction: row-reverse; /* CSS íŠ¸ë¦­: ìš°ì¸¡ ì •ë ¬ */
            justify-content: center; /* ê°€ìš´ë° ì •ë ¬ */
            gap: 8px; /* ë³„ ì‚¬ì´ ê°„ê²© ë„“í˜ */
            margin: 15px 0;
            background: rgba(0,0,0,0.2);
            padding: 10px;
            border-radius: 50px;
        }
        .star-rating input { display: none; }
        .star-rating label {
            font-size: 2rem; /* ë³„ í¬ê¸° ëŒ€í­ í™•ëŒ€ */
            color: #555;
            cursor: pointer;
            transition: color 0.2s;
        }
        /* ë³„ì  ì±„ìš°ê¸° íš¨ê³¼ */
        .star-rating input:checked ~ label,
        .star-rating label:hover,
        .star-rating label:hover ~ label {
            color: #FFD700;
            text-shadow: 0 0 10px #FFD700;
        }

        /* ì…ë ¥ì°½ & ë²„íŠ¼ (ëª¨ë°”ì¼ í„°ì¹˜ ìµœì í™”) */
        .comment-input {
            width: 100%;
            padding: 12px;
            font-size: 1rem;
            border-radius: 12px;
            border: 1px solid rgba(255,255,255,0.2);
            background: rgba(255,255,255,0.1);
            color: white;
            margin-bottom: 12px;
            box-sizing: border-box;
            outline: none;
        }
        .comment-input::placeholder { color: #bbb; font-size: 0.9rem; }

        .submit-btn {
            width: 100%;
            padding: 14px;
            font-size: 1rem;
            border: none;
            border-radius: 12px;
            background: linear-gradient(90deg, #FFD700, #ffb347);
            color: #1a1a1a;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(255, 215, 0, 0.3);
            transition: active 0.1s;
        }
        .submit-btn:active { transform: scale(0.98); }
        
        /* ì´ë¯¸ íˆ¬í‘œí–ˆì„ ë•Œ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ */
        .voted .submit-btn {
            background: #444; color: #aaa; box-shadow: none;
        }

        /* í•˜ë‹¨ ì•ˆë‚´ */
        .footer-msg {
            margin-top: 40px;
            font-size: 0.8rem;
            color: #888;
            line-height: 1.6;
            padding: 20px;
            border-top: 1px dashed rgba(255,255,255,0.1);
        }

        /* í­ì£½ */
        .confetti { position: absolute; width: 6px; height: 6px; z-index: 99; pointer-events: none; border-radius: 50%; }

    </style>
</head>
<body>

    <div id="snow-container"></div>

    <div class="container">
        <h1>ê°•ì˜ í‰ê°€ íˆ¬í‘œì†Œ ğŸ—³ï¸</h1>
        <p class="subtitle">í„°ì¹˜í•´ì„œ ë³„ì ì„ ë‚¨ê²¨ì£¼ì„¸ìš”!<br>(ìµëª… ë³´ì¥ / ìˆ˜ì • ê°€ëŠ¥)</p>

        <div class="review-list" id="review-list"></div>

        <div class="footer-msg">
            ì—¬ëŸ¬ë¶„ì˜ ì†Œì¤‘í•œ ì˜ê²¬ ê°ì‚¬í•©ë‹ˆë‹¤.<br>
            ê²°ê³¼ëŠ” íŒŒí‹° í˜„ì¥ì—ì„œ ê³µê°œë©ë‹ˆë‹¤! ğŸ‰
        </div>
    </div>

    <script>
        // 1. ëˆˆì†¡ì´ (ëª¨ë°”ì¼ ì„±ëŠ¥ ê³ ë ¤í•˜ì—¬ ê°œìˆ˜ ì¡°ì ˆ)
        function createSnow() {
            const container = document.getElementById('snow-container');
            const count = 30; 
            for(let i=0; i<count; i++){
                const snow = document.createElement('div');
                snow.className = 'snowflake';
                snow.innerHTML = 'â„';
                snow.style.left = Math.random() * 100 + 'vw';
                snow.style.animationDuration = Math.random() * 5 + 5 + 's'; 
                snow.style.opacity = Math.random() * 0.5 + 0.1;
                snow.style.fontSize = Math.random() * 8 + 4 + 'px';
                container.appendChild(snow);
            }
        }
        createSnow();

        // 2. ê°•ì˜ ë°ì´í„° (ê°€ë‚˜ë‹¤ìˆœ ì •ë ¬ ì „)
        const rawSubjects = [
            { id: 'c_prog', name: 'C í”„ë¡œê·¸ë˜ë°', prof: 'ê¸°ì´ˆë¶€í„° íƒ„íƒ„í•˜ê²Œ' },
            { id: 'data_st', name: 'ìë£Œêµ¬ì¡°', prof: 'ìŠ¤íƒ, í, íŠ¸ë¦¬...' },
            { id: 'os', name: 'ìš´ì˜ì²´ì œ', prof: 'ë°ë“œë½ê³¼ í”„ë¡œì„¸ìŠ¤' },
            { id: 'network', name: 'ì»´í“¨í„° ë„¤íŠ¸ì›Œí¬', prof: 'OSI 7ê³„ì¸µ' },
            { id: 'db', name: 'ë°ì´í„°ë² ì´ìŠ¤', prof: 'SQLì˜ ë§ˆë²•ì‚¬' },
            { id: 'algo', name: 'ì•Œê³ ë¦¬ì¦˜', prof: 'ì‹œê°„ë³µì¡ë„ì˜ ëŠª' },
            { id: 'com_arch', name: 'ì»´í“¨í„° êµ¬ì¡°', prof: 'CPUì˜ ë¹„ë°€' },
            { id: 'web_prog', name: 'ì›¹ í”„ë¡œê·¸ë˜ë°', prof: 'HTML/CSS/JS' }
        ];

        // 3. â˜… í•µì‹¬: ê°€ë‚˜ë‹¤ìˆœ ìë™ ì •ë ¬ â˜…
        const subjects = rawSubjects.sort((a, b) => a.name.localeCompare(b.name));

        const listContainer = document.getElementById('review-list');

        // 4. ì¹´ë“œ ìƒì„± í•¨ìˆ˜
        function initCards() {
            listContainer.innerHTML = '';
            
            subjects.forEach(sub => {
                // ë‚´ ê¸°ê¸°ì— ì €ì¥ëœ íˆ¬í‘œ ì •ë³´ í™•ì¸
                const myVote = JSON.parse(localStorage.getItem(`my_vote_${sub.id}`));
                
                const isVoted = myVote ? 'voted' : '';
                const btnText = myVote ? 'ìˆ˜ì •í•˜ê¸° âœï¸' : 'í‰ê°€ ì œì¶œ ğŸš€';
                const commentVal = myVote ? myVote.text : "";
                
                const card = document.createElement('div');
                card.className = `review-card ${isVoted}`; // íˆ¬í‘œí–ˆìœ¼ë©´ ìŠ¤íƒ€ì¼ ë³€ê²½
                
                // ë³„ì  HTML (ì´ë¯¸ íˆ¬í‘œí–ˆìœ¼ë©´ ì²´í¬ ìƒíƒœ ìœ ì§€)
                let starHtml = '';
                for(let i=5; i>=1; i--) {
                    const checked = (myVote && myVote.score == i) ? 'checked' : '';
                    starHtml += `
                        <input type="radio" name="rate_${sub.id}" id="rate_${sub.id}_${i}" value="${i}" ${checked}>
                        <label for="rate_${sub.id}_${i}">â˜…</label>
                    `;
                }

                card.innerHTML = `
                    <div class="card-header">
                        <div>
                            <div class="subject-name">${sub.name}</div>
                            <div class="prof-name">${sub.prof}</div>
                        </div>
                        <span class="badge">ì™„ë£Œ</span>
                    </div>
                    
                    <div class="star-rating">${starHtml}</div>

                    <input type="text" class="comment-input" id="comment-${sub.id}" placeholder="í•œ ì¤„ í‰ (ì„ íƒ)" value="${commentVal}">
                    <button class="submit-btn" onclick="submitReview('${sub.id}')">${btnText}</button>
                `;
                listContainer.appendChild(card);
            });
        }

        // 5. íˆ¬í‘œ ì œì¶œ í•¨ìˆ˜
        function submitReview(id) {
            const radios = document.getElementsByName(`rate_${id}`);
            let score = 0;
            for (const radio of radios) { if (radio.checked) { score = parseInt(radio.value); break; } }

            if (score === 0) { 
                alert("ë³„ì„ ëˆŒëŸ¬ ì ìˆ˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”! â­"); 
                return; 
            }

            const commentInput = document.getElementById(`comment-${id}`);
            const commentText = commentInput.value.trim() || "";

            // ë‚´ í°ì— ì €ì¥ (ì„œë²„ ì—†ì´ ë¡œì»¬ ì €ì¥ì†Œ í™œìš©)
            const voteData = { score: score, text: commentText };
            localStorage.setItem(`my_vote_${id}`, JSON.stringify(voteData));

            // í­ì£½ íš¨ê³¼ (5ì ì¼ ë•Œë§Œ)
            if (score === 5) launchConfetti();

            // í™”ë©´ ê°±ì‹  (ì™„ë£Œ í‘œì‹œ ëœ¨ê²Œ)
            initCards();
            
            // ì•Œë¦¼ ëŒ€ì‹  ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ ì´ë™ ë“±ìœ¼ë¡œ ëŒ€ì²´ ê°€ëŠ¥í•˜ì§€ë§Œ, í™•ì¸ìš©ìœ¼ë¡œ ì§§ê²Œ ì•Œë¦¼
            // alert("ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤! âœ…"); (ë„ˆë¬´ ìì£¼ ëœ¨ë©´ ê·€ì°®ìœ¼ë‹ˆ ìƒëµ ê°€ëŠ¥)
        }

        // 6. í­ì£½ íš¨ê³¼
        function launchConfetti() {
            const colors = ['#FFD700', '#FF4500', '#00FF7F', '#FFFFFF'];
            for(let i=0; i<40; i++) {
                const p = document.createElement('div');
                p.className = 'confetti';
                p.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                p.style.left = '50%'; 
                p.style.top = (window.scrollY + window.innerHeight / 2) + 'px'; // í˜„ì¬ í™”ë©´ ì¤‘ì•™
                document.body.appendChild(p);
                
                const angle = Math.random() * Math.PI * 2;
                const velocity = Math.random() * 150 + 50;
                
                p.animate([
                    { transform: 'translate(0,0) scale(1)', opacity: 1 },
                    { transform: `translate(${Math.cos(angle)*velocity}px, ${Math.sin(angle)*velocity}px) scale(0)`, opacity: 0 }
                ], { duration: 800, easing: 'ease-out' }).onfinish = () => p.remove();
            }
        }

        // ì‹¤í–‰
        initCards();
    </script>
</body>
</html>
